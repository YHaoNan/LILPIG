{"title":"VIM中被我忽略的技巧(复制篇)","date":"2019-11-16T11:50:27.000Z","slug":"vim-skill3","tags":["vim"],"categories":["Vim"],"updated":"2019-11-16T12:25:23.864Z","content":"<h2 id=\"背景\">背景<a href=\"post/vim-skill3#背景\"></a></h2><p>VIM中的复制、剪切、粘贴分别对应着<code>y</code>、<code>d</code>、<code>p</code>。</p>\n<p>如果不了解请先了解下相关背景知识。</p>\n<h2 id=\"默认寄存器\">默认寄存器<a href=\"post/vim-skill3#默认寄存器\"></a></h2><p>如果不对<code>y</code>、<code>d</code>、<code>p</code>做任何修饰直接使用，那么就会使用默认寄存器。(x命令也会)</p>\n<p>对于<code>y</code>和<code>d</code>是将文本直接存储到默认寄存器，对于<code>p</code>则是将默认寄存器中的内容插入到当前光标下。、</p>\n<h2 id=\"其他寄存器\">其他寄存器<a href=\"post/vim-skill3#其他寄存器\"></a></h2><p>VIM提供了一些其他的寄存器，你可以使用<code>&quot;{regisiter}</code>来指定一个寄存器。如<code>&quot;ayw</code>是将当前单词放到寄存器a中，这个值可以是<code>a-z</code>。</p>\n<h2 id=\"复制专用寄存器\">复制专用寄存器<a href=\"post/vim-skill3#复制专用寄存器\"></a></h2><p>当你复制了一个单词，除了保存到默认寄存器，它还保存到一个名字是<code>0</code>的寄存器。</p>\n<p>你可以使用<code>&quot;0p</code>来插入它。来看下面的场景：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">abc</span><br><span class=\"line\">def</span><br></pre></td></tr></table></figure></p>\n<p>比如我们想把第二行也换成abc，那么我们需要使用<code>yw</code>复制第一行内容。然后跳到下一行使用<code>dw</code>删除def，之后使用<code>p</code>粘贴。</p>\n<p>但是观察结果，发现好像并没如我们所愿。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">abc</span><br><span class=\"line\">def</span><br></pre></td></tr></table></figure></p>\n<p>第二行的内容依旧没变。</p>\n<p>因为<code>dw</code>也会将文本保存到默认寄存器。</p>\n<p>这时我们可以考虑用可视模式选中def，然后粘贴，也可以考虑先删除def，再复制粘贴abc。虽然都可以实现，但始终好像不太像那回事。</p>\n<p>VIM提供了复制专用寄存器，它会保存复制的内容，而剪切的内容不会保存。我们可以使用它应付如下场景。</p>\n<p><code>ywjdw&quot;0p</code>可以完成这次操作。分析一下，我们用<code>yw</code>复制了abc，用j移动到下一行，用<code>dw</code>删除def，用<code>&quot;0p</code>将复制专用寄存器中的内容粘贴。</p>\n<h2 id=\"黑洞寄存器\">黑洞寄存器<a href=\"post/vim-skill3#黑洞寄存器\"></a></h2><p>如果我们只是想删除某个东西，并不像让它污染任何一个寄存器，可以使用黑洞寄存器。它的名字是<code>_</code></p>\n<p>所有复制、剪切操作的文本都会被黑洞寄存器直接丢弃。</p>\n<p><code>&quot;_dw</code>命令会删除当前单词。</p>\n<h2 id=\"系统剪切板\">系统剪切板<a href=\"post/vim-skill3#系统剪切板\"></a></h2><p><code>+</code>代表系统剪切板。</p>\n<p>你可以使用这个寄存器与系统剪切板进行交互。</p>\n<p><code>&quot;+y</code>代表复制到系统剪切板。同理<code>&quot;+p</code>代表从系统剪切板粘贴。<code>&quot;+d</code>代表剪切到系统剪贴板。</p>\n<h2 id=\"表达式寄存器\">表达式寄存器<a href=\"post/vim-skill3#表达式寄存器\"></a></h2><p>略</p>\n<h2 id=\"其他寄存器-1\">其他寄存器<a href=\"post/vim-skill3#其他寄存器-1\"></a></h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">寄存器</th>\n<th style=\"text-align:center\">内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">“%</td>\n<td style=\"text-align:center\">当前文件名</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">“#</td>\n<td style=\"text-align:center\">轮换文件名</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">“.</td>\n<td style=\"text-align:center\">上次插入的文本</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">“:</td>\n<td style=\"text-align:center\">上次执行的Ex命令</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">“/</td>\n<td style=\"text-align:center\">上次查找的模式</td>\n</tr>\n</tbody>\n</table>\n</div>\n","next":{"title":"VIM中被我忽略的技巧(移动篇)","slug":"vim-skill2"},"link":"http://lilpig.site/post/vim-skill3/","toc":[{"title":"背景","id":"背景","index":"1"},{"title":"默认寄存器","id":"默认寄存器","index":"2"},{"title":"其他寄存器","id":"其他寄存器","index":"3"},{"title":"复制专用寄存器","id":"复制专用寄存器","index":"4"},{"title":"黑洞寄存器","id":"黑洞寄存器","index":"5"},{"title":"系统剪切板","id":"系统剪切板","index":"6"},{"title":"表达式寄存器","id":"表达式寄存器","index":"7"},{"title":"其他寄存器","id":"其他寄存器-1","index":"8"}],"reward":true,"copyright":{"author":"LIL PIG","link":"<a href=\"http://lilpig.site/post/vim-skill3/\" title=\"VIM中被我忽略的技巧(复制篇)\">http://lilpig.site/post/vim-skill3/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}